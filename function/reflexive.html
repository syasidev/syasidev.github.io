<!DOCTYPE html>
<html>
  <head>
    <link href="/css/style.css" rel="stylesheet">
    <script>
       var status = 'ready';
       var startTime;
       var endTime;
       var clickFlag;
       
       function btnClick(){
           var boxText = document.getElementById("boxText");
         
           if(this.status == 'ready'){
              this.status = 'start';
              boxText.innerHTML = '녹색일때 클릭!';
              this.startTime = new Date();
              clickFlag = false;
              timewaiting();
           } else if(this.status == 'start') {
              this.endTime = new Date();
              this.status = 'finish';
              if(clickFlag){
                boxText.innerHTML = (endTime-startTime)+'ms 입니다!';
              } else {
                boxText.innerHTML = '일찍 눌렀어요!';
              }
              boxText.style.backgroundColor = '#527ede';
           } else if(this.status == 'finish') {
              this.status = 'ready';
              boxText.innerHTML = '시작';
              boxText.style.backgroundColor = '#bec944';
           }
       }
      function timewaiting(){
          var randTime = (Math.floor(Math.random() * 300) + 200) * 10;
          setTimeout(function() {
              document.getElementById("boxText").style.backgroundColor = '#0ac263';
              this.clickFlag = true;
          }, randTime);
      }
    </script>
    <style>
       .box{ text-align: center; display: table; cursor: pointer; width:100%;}
       .box-item{ border: 1px solid black; width:100%; height:150px; color: white; display: table-cell; vertical-align: middle; }
    </style>
  </head>
  <body>
     <h2>반응속도 테스트</h2>
     <hr>
     <div class="box">
        <div id="boxText" class="box-item" onclick="btnClick()" style="background-color:#bec944;">시작</div>
     </div>
     <div class="closeBtn" onclick="window.close()">닫기</div>
  </body>
</html>
